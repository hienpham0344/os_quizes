<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OS Quiz Pro - By PhamHien</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
      :root {
        --primary: #2563eb;
        --secondary: #64748b;
        --success: #10b981;
        --error: #ef4444;
        --dark: #0f172a;
      }
      body {
        font-family: "Inter", system-ui, sans-serif;
        background: var(--dark);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        overflow: hidden;
      }
      .card {
        background: #ffffff;
        color: #1e293b;
        padding: 2.5rem;
        border-radius: 24px;
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
        width: 100%;
        max-width: 650px;
        min-height: 480px;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 10;
      }

      #start-menu {
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        height: 100%;
      }
      .author-tag {
        color: var(--primary);
        font-weight: 700;
        letter-spacing: 2px;
        margin-bottom: 10px;
      }
      h1 {
        font-size: 2.5rem;
        margin: 0 0 20px 0;
        color: #0f172a;
      }

      #quiz-content {
        display: none;
      }
      .progress-container {
        height: 6px;
        background: #e2e8f0;
        border-radius: 3px;
        margin-bottom: 25px;
      }
      .progress-fill {
        height: 100%;
        background: var(--primary);
        width: 0%;
        transition: width 0.4s ease;
      }
      .q-text {
        font-size: 1.25rem;
        font-weight: 600;
        line-height: 1.6;
        margin-bottom: 20px;
        color: #334155;
        height: 80px;
      }
      .blank-space {
        color: var(--primary);
        border-bottom: 2px solid var(--primary);
        padding: 0 10px;
        font-weight: 800;
      }

      input[type="text"] {
        width: 100%;
        padding: 16px;
        border: 2px solid #cbd5e1;
        border-radius: 12px;
        font-size: 1.1rem;
        margin-bottom: 15px;
        transition: all 0.2s;
        box-sizing: border-box;
      }
      input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
      }

      .btn-group {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }
      button {
        padding: 14px 28px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 700;
        transition: 0.2s;
      }
      .btn-main {
        background: var(--primary);
        color: white;
        flex: 2;
      }
      .btn-skip {
        background: #f1f5f9;
        color: var(--secondary);
        flex: 1;
      }
      .btn-next {
        background: var(--dark);
        color: white;
        width: 100%;
        display: none;
      }
      button:hover {
        filter: brightness(1.1);
        transform: translateY(-1px);
      }

      .feedback {
        padding: 15px;
        border-radius: 10px;
        margin-top: 15px;
        font-weight: 600;
        display: none;
      }
      .correct {
        background: #dcfce7;
        color: #166534;
      }
      .wrong {
        background: #fee2e2;
        color: #991b1b;
      }
      .made-by {
        text-align: center;
        margin-top: auto;
        font-size: 0.8rem;
        color: #94a3b8;
        padding-top: 20px;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <div id="start-menu">
        <div class="author-tag">Pham Hien PRESENTS</div>
        <h1>OS QUIZ: MEMORY</h1>
        <p style="color: #64748b; margin-bottom: 30px">
          H·ªá th·ªëng c√¢u h·ªèi ng·∫´u nhi√™n.<br />(Question: Vietnamese | Answer:
          English)
        </p>
        <button class="btn-main" onclick="startQuiz()">B·∫ÆT ƒê·∫¶U √îN T·∫¨P</button>
      </div>

      <div id="quiz-content">
        <div class="progress-container">
          <div class="progress-fill" id="p-fill"></div>
        </div>
        <div
          id="status"
          style="
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #64748b;
            margin-bottom: 10px;
          "
        >
          <span id="q-number">C√¢u h·ªèi 1/20</span>
          <span id="score">ƒêi·ªÉm: 0</span>
        </div>

        <div class="q-text" id="q-text">ƒêang t·∫£i c√¢u h·ªèi...</div>
        <input
          type="text"
          id="user-input"
          placeholder="Nh·∫≠p ƒë√°p √°n ti·∫øng Anh..."
          autocomplete="off"
        />

        <div id="feedback" class="feedback"></div>

        <div class="btn-group" id="action-buttons">
          <button class="btn-main" id="btn-check" onclick="checkAnswer()">
            KI·ªÇM TRA (Enter)
          </button>
          <button class="btn-skip" id="btn-skip" onclick="skipQuestion()">
            B·ªé QUA
          </button>
        </div>
        <button class="btn-next" id="btn-next" onclick="nextQuestion()">
          C√ÇU TI·∫æP THEO ‚Üí
        </button>
      </div>

      <div class="made-by">Made by PhamHien</div>
    </div>

    <script>
            const masterData = [
        // --- CH∆Ø∆†NG 5: ƒê·ªíNG B·ªò TI·∫æN TR√åNH (SYNCHRONIZATION) ---
        { q: "T√¨nh hu·ªëng nhi·ªÅu ti·∫øn tr√¨nh c√πng truy c·∫≠p v√† thay ƒë·ªïi d·ªØ li·ªáu chung, k·∫øt qu·∫£ ph·ª• thu·ªôc v√†o th·ª© t·ª± th·ª±c thi g·ªçi l√† ____ condition.", a: "race", hint: "ƒêi·ªÅu ki·ªán ch·∫°y ƒëua." },
        { q: "ƒêo·∫°n m√£ trong ti·∫øn tr√¨nh c√≥ truy c·∫≠p ƒë·∫øn t√†i nguy√™n chung ƒë∆∞·ª£c g·ªçi l√† ____ section.", a: "critical", hint: "V√πng gƒÉng / V√πng tranh ch·∫•p." },
        { q: "Y√™u c·∫ßu ƒë·∫£m b·∫£o ch·ªâ m·ªôt ti·∫øn tr√¨nh ƒë∆∞·ª£c ·ªü trong v√πng tranh ch·∫•p t·∫°i m·ªôt th·ªùi ƒëi·ªÉm l√† ____ exclusion.", a: "mutual", hint: "Lo·∫°i tr·ª´ t∆∞∆°ng h·ªó." },
        { q: "Gi·∫£i ph√°p ph·∫ßn m·ªÅm cho 2 ti·∫øn tr√¨nh ƒë·ªÉ gi·∫£i quy·∫øt v√πng tranh ch·∫•p l√† ____'s solution.", a: "peterson", hint: "T√™n m·ªôt thu·∫≠t to√°n c·ªï ƒëi·ªÉn." },
        { q: "M·ªôt bi·∫øn nguy√™n t·ª≠ ƒë∆∞·ª£c d√πng ƒë·ªÉ qu·∫£n l√Ω truy c·∫≠p v√πng tranh ch·∫•p (kh√≥a) g·ªçi l√† ____ lock.", a: "mutex", hint: "Vi·∫øt t·∫Øt c·ªßa MUTual EXclusion." },
        { q: "Hi·ªán t∆∞·ª£ng ti·∫øn tr√¨nh li√™n t·ª•c ki·ªÉm tra ƒëi·ªÅu ki·ªán trong v√≤ng l·∫∑p khi ch·ªù kh√≥a g·ªçi l√† ____ waiting.", a: "busy", hint: "Ch·ªù b·∫≠n." },
        { q: "Lo·∫°i kh√≥a mutex s·ª≠ d·ª•ng busy waiting ƒë∆∞·ª£c g·ªçi l√† ______lock.", a: "spin", hint: "Kh√≥a xoay." },
        { q: "C√¥ng c·ª• ƒë·ªìng b·ªô h√≥a t·ªïng qu√°t h∆°n mutex, l√† m·ªôt bi·∫øn s·ªë nguy√™n, g·ªçi l√† ____.", a: "semaphore", hint: "ƒê√®n b√°o hi·ªáu." },
        { q: "Thao t√°c tr√™n semaphore ƒë·ªÉ gi·∫£m gi√° tr·ªã (ch·ªù) ƒë∆∞·ª£c g·ªçi l√† ____.", a: "wait", hint: "Ho·∫∑c g·ªçi l√† P()." },
        { q: "Thao t√°c tr√™n semaphore ƒë·ªÉ tƒÉng gi√° tr·ªã (b√°o hi·ªáu) ƒë∆∞·ª£c g·ªçi l√† ____.", a: "signal", hint: "Ho·∫∑c g·ªçi l√† V()." },
        { q: "C·∫•u tr√∫c d·ªØ li·ªáu cao c·∫•p (abstract data type) bao g·ªìm th·ªß t·ª•c v√† bi·∫øn ƒëi·ªÅu ki·ªán ƒë·ªÉ ƒë·ªìng b·ªô h√≥a l√† ____.", a: "monitor", hint: "Gi√°m s√°t." },
        { q: "B√†i to√°n ƒë·ªìng b·ªô kinh ƒëi·ªÉn m√¥ ph·ªèng 5 tri·∫øt gia ng·ªìi ƒÉn t·ªëi l√† ____ Philosophers.", a: "dining", hint: "C√°c tri·∫øt gia ƒÉn t·ªëi." },

        // --- CH∆Ø∆†NG 6: T·∫ÆC NGH·∫ºN (DEADLOCK) ---
        { q: "T√¨nh tr·∫°ng c√°c ti·∫øn tr√¨nh ch·ªù ƒë·ª£i nhau v√¥ h·∫°n v√¨ m·ªói b√™n gi·ªØ t√†i nguy√™n b√™n kia c·∫ßn l√† ____.", a: "deadlock", hint: "T·∫Øc ngh·∫Ωn." },
        { q: "ƒêi·ªÅu ki·ªán deadlock: Ti·∫øn tr√¨nh gi·ªØ √≠t nh·∫•t 1 t√†i nguy√™n v√† ch·ªù th√™m t√†i nguy√™n kh√°c l√† ____ and wait.", a: "hold", hint: "Gi·ªØ v√† ch·ªù." },
        { q: "ƒêi·ªÅu ki·ªán deadlock: T√†i nguy√™n kh√¥ng th·ªÉ b·ªã t∆∞·ªõc ƒëo·∫°t t·ª´ ti·∫øn tr√¨nh ƒëang gi·ªØ n√≥ l√† no ____.", a: "preemption", hint: "Kh√¥ng tr∆∞ng d·ª•ng/t∆∞·ªõc ƒëo·∫°t." },
        { q: "ƒêi·ªÅu ki·ªán deadlock: C√≥ m·ªôt chu·ªói c√°c ti·∫øn tr√¨nh ch·ªù ƒë·ª£i l·∫´n nhau theo v√≤ng tr√≤n l√† ____ wait.", a: "circular", hint: "Ch·ªù ƒë·ª£i v√≤ng tr√≤n." },
        { q: "Bi·ªÉu ƒë·ªì d√πng ƒë·ªÉ m√¥ t·∫£ tr·∫°ng th√°i c·∫•p ph√°t t√†i nguy√™n l√† Resource ____ Graph.", a: "allocation", hint: "ƒê·ªì th·ªã c·∫•p ph√°t." },
        { q: "Ph∆∞∆°ng ph√°p x·ª≠ l√Ω deadlock b·∫±ng c√°ch ƒë·∫£m b·∫£o h·ªá th·ªëng kh√¥ng bao gi·ªù r∆°i v√†o tr·∫°ng th√°i kh√¥ng an to√†n l√† deadlock ____.", a: "avoidance", hint: "Tr√°nh t·∫Øc ngh·∫Ωn." },
        { q: "Thu·∫≠t to√°n kinh ƒëi·ªÉn ƒë·ªÉ tr√°nh deadlock b·∫±ng c√°ch gi·∫£ l·∫≠p c·∫•p ph√°t l√† ____'s Algorithm.", a: "banker", hint: "Thu·∫≠t to√°n nh√† bƒÉng." },
        { q: "Trong thu·∫≠t to√°n Banker, n·∫øu h·ªá th·ªëng c√≥ th·ªÉ t√¨m ƒë∆∞·ª£c chu·ªói th·ª±c thi an to√†n, tr·∫°ng th√°i ƒë√≥ g·ªçi l√† ____ state.", a: "safe", hint: "Tr·∫°ng th√°i an to√†n." },
        { q: "Ph∆∞∆°ng ph√°p cho ph√©p deadlock x·∫£y ra r·ªìi m·ªõi t√¨m v√† x·ª≠ l√Ω g·ªçi l√† deadlock ____.", a: "detection", hint: "Ph√°t hi·ªán t·∫Øc ngh·∫Ωn." },
        { q: "Hi·ªán t∆∞·ª£ng m·ªôt ti·∫øn tr√¨nh ch·ªù ƒë·ª£i qu√° l√¢u m√† kh√¥ng ƒë∆∞·ª£c c·∫•p ph√°t t√†i nguy√™n (do ƒë·ªô ∆∞u ti√™n th·∫•p) l√† ____.", a: "starvation", hint: "ƒê√≥i t√†i nguy√™n." },

        // --- CH∆Ø∆†NG 7: QU·∫¢N L√ù B·ªò NH·ªö (MEMORY MANAGEMENT) ---
        { q: "ƒê·ªãa ch·ªâ do CPU t·∫°o ra ƒë∆∞·ª£c g·ªçi l√† ____ address.", a: "logical", hint: "ƒê·ªãa ch·ªâ logic (ho·∫∑c ·∫£o)." },
        { q: "ƒê·ªãa ch·ªâ th·ª±c t·∫ø tr√™n thanh RAM ƒë∆∞·ª£c g·ªçi l√† ____ address.", a: "physical", hint: "ƒê·ªãa ch·ªâ v·∫≠t l√Ω." },
        { q: "Thi·∫øt b·ªã ph·∫ßn c·ª©ng th·ª±c hi·ªán √°nh x·∫° ƒë·ªãa ch·ªâ logic sang v·∫≠t l√Ω l√† ____.", a: "mmu", hint: "Vi·∫øt t·∫Øt Memory Management Unit." },
        { q: "Hi·ªán t∆∞·ª£ng t·ªïng b·ªô nh·ªõ tr·ªëng ƒë·ªß nh∆∞ng kh√¥ng li√™n t·ª•c n√™n kh√¥ng c·∫•p ph√°t ƒë∆∞·ª£c l√† ____ fragmentation.", a: "external", hint: "Ph√¢n m·∫£nh ngo·∫°i vi." },
        { q: "K·ªπ thu·∫≠t d·ªìn c√°c v√πng nh·ªõ tr·ªëng l·∫°i v·ªõi nhau ƒë·ªÉ gi·∫£m ph√¢n m·∫£nh ngo·∫°i vi l√† ____.", a: "compaction", hint: "D·ªìn b·ªô nh·ªõ." },
        { q: "C∆° ch·∫ø qu·∫£n l√Ω b·ªô nh·ªõ chia RAM th√†nh c√°c kh·ªëi k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh l√† ____.", a: "paging", hint: "Ph√¢n trang." },
        { q: "C√°c kh·ªëi k√≠ch th∆∞·ªõc c·ªë ƒë·ªãnh trong b·ªô nh·ªõ v·∫≠t l√Ω (RAM) g·ªçi l√† ____.", a: "frames", hint: "Khung trang." },
        { q: "C√°c kh·ªëi c√πng k√≠ch th∆∞·ªõc trong b·ªô nh·ªõ logic c·ªßa ti·∫øn tr√¨nh g·ªçi l√† ____.", a: "pages", hint: "Trang." },
        { q: "ƒê·ªãa ch·ªâ logic trong ph√¢n trang g·ªìm: Page number v√† Page ____.", a: "offset", hint: "ƒê·ªô d·ªùi (offset)." },
        { q: "C·∫•u tr√∫c d·ªØ li·ªáu d√πng ƒë·ªÉ √°nh x·∫° s·ªë trang sang s·ªë khung l√† ____ table.", a: "page", hint: "B·∫£ng trang." },
        { q: "B·ªô nh·ªõ ƒë·ªám ph·∫ßn c·ª©ng t·ªëc ƒë·ªô cao gi√∫p tra c·ª©u b·∫£ng trang nhanh h∆°n l√† ____.", a: "tlb", hint: "Translation Lookaside Buffer." },
        { q: "Hi·ªán t∆∞·ª£ng b·ªô nh·ªõ d∆∞ th·ª´a b√™n trong m·ªôt frame (do k√≠ch th∆∞·ªõc ti·∫øn tr√¨nh kh√¥ng chia h·∫øt cho frame) l√† ____ fragmentation.", a: "internal", hint: "Ph√¢n m·∫£nh n·ªôi vi." },
        { q: "Ph∆∞∆°ng ph√°p qu·∫£n l√Ω b·ªô nh·ªõ d·ª±a tr√™n g√≥c nh√¨n logic c·ªßa l·∫≠p tr√¨nh vi√™n (chia th√†nh h√†m, stack...) l√† ____.", a: "segmentation", hint: "Ph√¢n ƒëo·∫°n." },
        { q: "Trong b·∫£ng ph√¢n ƒëo·∫°n, m·ªói d√≤ng ch·ª©a Base v√† ____.", a: "limit", hint: "Gi·ªõi h·∫°n ƒë·ªô d√†i ƒëo·∫°n." },
        { q: "Thanh ghi l∆∞u ƒë·ªãa ch·ªâ b·∫Øt ƒë·∫ßu c·ªßa b·∫£ng trang trong b·ªô nh·ªõ l√† ____.", a: "ptbr", hint: "Page-Table Base Register." },

        // --- CH∆Ø∆†NG 8: B·ªò NH·ªö ·∫¢O (VIRTUAL MEMORY) ---
        { q: "C∆° ch·∫ø cho ph√©p ch·∫°y ·ª©ng d·ª•ng c√≥ k√≠ch th∆∞·ªõc l·ªõn h∆°n dung l∆∞·ª£ng RAM v·∫≠t l√Ω l√† ____ memory.", a: "virtual", hint: "B·ªô nh·ªõ ·∫£o." },
        { q: "K·ªπ thu·∫≠t ch·ªâ n·∫°p trang v√†o RAM khi ti·∫øn tr√¨nh th·ª±c s·ª± truy c·∫≠p ƒë·∫øn n√≥ l√† ____ paging.", a: "demand", hint: "N·∫°p trang theo y√™u c·∫ßu." },
        { q: "L·ªói ng·∫Øt x·∫£y ra khi ti·∫øn tr√¨nh truy c·∫≠p v√†o m·ªôt trang ch∆∞a c√≥ trong RAM l√† Page ____.", a: "fault", hint: "L·ªói trang." },
        { q: "V√πng kh√¥ng gian tr√™n ƒëƒ©a c·ª©ng d√πng ƒë·ªÉ ch·ª©a c√°c trang b·ªã ƒë·∫©y ra t·ª´ RAM g·ªçi l√† ____ space.", a: "swap", hint: "V√πng tr√°o ƒë·ªïi." },
        { q: "C∆° ch·∫ø cho ph√©p cha v√† con d√πng chung trang nh·ªõ ban ƒë·∫ßu, ch·ªâ sao ch√©p khi c√≥ thay ƒë·ªïi l√† ______-on-Write.", a: "copy", hint: "Vi·∫øt t·∫Øt COW." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang ƒë∆°n gi·∫£n nh·∫•t, trang n√†o v√†o tr∆∞·ªõc ra tr∆∞·ªõc l√† ____.", a: "fifo", hint: "First-In, First-Out." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang l√Ω thuy·∫øt (kh√¥ng th·ª±c t·∫ø), thay th·∫ø trang s·∫Ω kh√¥ng ƒë∆∞·ª£c d√πng l√¢u nh·∫•t trong t∆∞∆°ng lai l√† ____.", a: "optimal", hint: "T·ªëi ∆∞u (OPT)." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang d·ª±a tr√™n qu√° kh·ª©, thay th·∫ø trang ch∆∞a ƒë∆∞·ª£c d√πng l√¢u nh·∫•t l√† ____.", a: "lru", hint: "Least Recently Used." },
        { q: "Bit ƒë∆∞·ª£c g·∫Øn v·ªõi m·ªói trang ƒë·ªÉ h·ªó tr·ª£ thu·∫≠t to√°n x·∫•p x·ªâ LRU (Second-chance) l√† ____ bit.", a: "reference", hint: "Bit tham chi·∫øu." },
        { q: "Ngh·ªãch l√Ω khi tƒÉng s·ªë l∆∞·ª£ng frame c·∫•p ph√°t nh∆∞ng s·ªë l∆∞·ª£ng l·ªói trang l·∫°i tƒÉng l√™n l√† ____'s Anomaly.", a: "belady", hint: "Ngh·ªãch l√Ω Belady." },
        { q: "Hi·ªán t∆∞·ª£ng h·ªá th·ªëng b·∫≠n r·ªôn v·ªõi vi·ªác tr√°o ƒë·ªïi trang (paging in/out) li√™n t·ª•c khi·∫øn hi·ªáu su·∫•t CPU gi·∫£m m·∫°nh l√† ____.", a: "thrashing", hint: "Tr√¨ tr·ªá h·ªá th·ªëng." },
        { q: "M√¥ h√¨nh d·ª±a tr√™n t√≠nh c·ª•c b·ªô ƒë·ªÉ x√°c ƒë·ªãnh s·ªë l∆∞·ª£ng frame c·∫ßn thi·∫øt cho ti·∫øn tr√¨nh nh·∫±m tr√°nh Thrashing l√† ______-set model.", a: "working", hint: "T·∫≠p l√†m vi·ªác." },
        { q: "T·ª∑ l·ªá t√¨m th·∫•y trang trong TLB ƒë∆∞·ª£c g·ªçi l√† ____ ratio.", a: "hit", hint: "T·ª∑ l·ªá tr√∫ng." },
        { q: "Th·ªùi gian trung b√¨nh ƒë·ªÉ truy c·∫≠p b·ªô nh·ªõ, t√≠nh c·∫£ th·ªùi gian x·ª≠ l√Ω page fault, g·ªçi l√† ____ Access Time.", a: "effective", hint: "EAT." }
        { q: "Ch∆∞∆°ng tr√¨nh h·ªá th·ªëng ch·ªãu tr√°ch nhi·ªám chuy·ªÉn trang gi·ªØa RAM v√† ƒëƒ©a (nh∆∞ng ch·ªâ chuy·ªÉn c√°c trang c·∫ßn thi·∫øt) g·ªçi l√† ____.", a: "pager", hint: "M·ªôt lo·∫°i swapper l∆∞·ªùi (lazy swapper)." },
        { q: "Bit d√πng ƒë·ªÉ ƒë√°nh d·∫•u m·ªôt trang ƒëang n·∫±m trong RAM (v) hay kh√¥ng (i) l√† ______-invalid bit.", a: "valid", hint: "H·ª£p l·ªá / Kh√¥ng h·ª£p l·ªá." },
        { q: "Trong Demand Paging, n·∫øu bit tr·∫°ng th√°i l√† 'i' (invalid), truy c·∫≠p s·∫Ω g√¢y ra ____.", a: "trap", hint: "M·ªôt lo·∫°i ng·∫Øt ph·∫ßn m·ªÅm g·ª≠i t·ªõi OS." },
        { q: "Chi·∫øn l∆∞·ª£c kh√¥ng bao gi·ªù n·∫°p trang v√†o RAM cho ƒë·∫øn khi n√≥ ƒë∆∞·ª£c tham chi·∫øu l·∫ßn ƒë·∫ßu g·ªçi l√† ____ demand paging.", a: "pure", hint: "Ph√¢n trang theo y√™u c·∫ßu thu·∫ßn t√∫y." },
        { q: "ƒê·ªÉ h·ªó tr·ª£ Demand Paging, h·ªá th·ªëng c·∫ßn b·∫£ng trang v√† kh√¥ng gian l∆∞u tr·ªØ th·ª© c·∫•p g·ªçi l√† ____ space.", a: "swap", hint: "Kh√¥ng gian tr√°o ƒë·ªïi." },
        { q: "Khi x·∫£y ra l·ªói trang (page fault), h·ªá ƒëi·ªÅu h√†nh ph·∫£i t√¨m m·ªôt ____ frame c√≤n tr·ªëng ƒë·ªÉ n·∫°p trang v√†o.", a: "free", hint: "Khung trang t·ª± do/tr·ªëng." },
        { q: "Th·ªùi gian trung b√¨nh truy c·∫≠p b·ªô nh·ªõ c√≥ x√©t ƒë·∫øn x√°c su·∫•t l·ªói trang g·ªçi l√† ____ Access Time.", a: "effective", hint: "Vi·∫øt t·∫Øt l√† EAT." },
        { q: "K·ªπ thu·∫≠t cho ph√©p ti·∫øn tr√¨nh cha v√† con chia s·∫ª chung c√°c trang nh·ªõ, ch·ªâ sao ch√©p khi c√≥ ti·∫øn tr√¨nh th·ª±c hi·ªán ghi l√† ______-on-Write.", a: "copy", hint: "Vi·∫øt t·∫Øt l√† COW." },
        { q: "Trong thu·∫≠t to√°n FIFO, hi·ªán t∆∞·ª£ng tƒÉng s·ªë frame nh∆∞ng s·ªë l·ªói trang c≈©ng tƒÉng g·ªçi l√† ____'s Anomaly.", a: "belady", hint: "Ngh·ªãch l√Ω Belady." },
        { q: "Chu·ªói tham chi·∫øu b·ªô nh·ªõ d√πng ƒë·ªÉ ƒë√°nh gi√° thu·∫≠t to√°n thay th·∫ø trang g·ªçi l√† reference ____.", a: "string", hint: "Chu·ªói tham chi·∫øu." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang ch·ªçn trang s·∫Ω kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong th·ªùi gian l√¢u nh·∫•t s·∫Øp t·ªõi l√† ____.", a: "optimal", hint: "Thu·∫≠t to√°n t·ªëi ∆∞u." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang ch·ªçn trang ƒë√£ kh√¥ng ƒë∆∞·ª£c s·ª≠ d·ª•ng l√¢u nh·∫•t trong qu√° kh·ª© l√† ____.", a: "lru", hint: "Least Recently Used." },
        { q: "ƒê·ªÉ x·∫•p x·ªâ thu·∫≠t to√°n LRU, ph·∫ßn c·ª©ng h·ªó tr·ª£ th√™m bit ____ cho m·ªói trang.", a: "reference", hint: "Bit tham chi·∫øu (th∆∞·ªùng l√† 0 ho·∫∑c 1)." },
        { q: "Thu·∫≠t to√°n Second-Chance (C∆° h·ªôi th·ª© hai) th·ª±c ch·∫•t l√† thu·∫≠t to√°n FIFO k·∫øt h·ª£p v·ªõi bit ____.", a: "reference", hint: "Bit tham chi·∫øu." },
        { q: "Thu·∫≠t to√°n ƒë·∫øm s·ªë l·∫ßn s·ª≠ d·ª•ng trang, thay th·∫ø trang c√≥ s·ªë l·∫ßn d√πng √≠t nh·∫•t l√† ____.", a: "lfu", hint: "Least Frequently Used." },
        { q: "Thu·∫≠t to√°n thay th·∫ø trang c√≥ s·ªë l·∫ßn s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t (v√¨ cho r·∫±ng trang √≠t d√πng m·ªõi v·ª´a ƒë∆∞·ª£c n·∫°p) l√† ____.", a: "mfu", hint: "Most Frequently Used." },
        { q: "Ph∆∞∆°ng ph√°p c·∫•p ph√°t frame cho ph√©p m·ªôt ti·∫øn tr√¨nh l·∫•y frame c·ªßa ti·∫øn tr√¨nh kh√°c l√† ____ allocation.", a: "global", hint: "C·∫•p ph√°t to√†n c·ª•c." },
        { q: "Ph∆∞∆°ng ph√°p c·∫•p ph√°t frame ch·ªâ cho ph√©p ti·∫øn tr√¨nh thay th·∫ø c√°c trang c·ªßa ch√≠nh n√≥ l√† ____ allocation.", a: "local", hint: "C·∫•p ph√°t c·ª•c b·ªô." },
        { q: "Hi·ªán t∆∞·ª£ng CPU h·∫ßu nh∆∞ kh√¥ng l√†m vi·ªác v√¨ ph·∫£i li√™n t·ª•c x·ª≠ l√Ω l·ªói trang (page in/out) g·ªçi l√† ____.", a: "thrashing", hint: "Tr√¨ tr·ªá h·ªá th·ªëng." },
        { q: "Nguy√™n nh√¢n ch√≠nh d·∫´n ƒë·∫øn Thrashing l√† do m·ª©c ƒë·ªô ƒëa ch∆∞∆°ng (degree of multiprogramming) qu√° ____.", a: "high", hint: "Cao." },
        { q: "M√¥ h√¨nh T·∫≠p l√†m vi·ªác (Working-Set Model) d·ª±a tr√™n gi·∫£ ƒë·ªãnh v·ªÅ t√≠nh ____ (locality) c·ªßa ch∆∞∆°ng tr√¨nh.", a: "local", hint: "T√≠nh c·ª•c b·ªô." },
        { q: "Trong m√¥ h√¨nh Working-Set, kho·∫£ng th·ªùi gian (s·ªë l·∫ßn tham chi·∫øu) d√πng ƒë·ªÉ x√°c ƒë·ªãnh t·∫≠p l√†m vi·ªác ƒë∆∞·ª£c k√Ω hi·ªáu l√† ____.", a: "delta", hint: "K√Ω hi·ªáu tam gi√°c (Œî)." },
        { q: "N·∫øu t·ªïng k√≠ch th∆∞·ªõc c·ªßa c√°c Working Set (WSS) l·ªõn h∆°n t·ªïng s·ªë frame v·∫≠t l√Ω, h·ªá th·ªëng s·∫Ω b·ªã ____.", a: "thrashing", hint: "Tr√¨ tr·ªá." },
        { q: "M·ªôt ph∆∞∆°ng ph√°p kh√°c ƒë·ªÉ ki·ªÉm so√°t Thrashing l√† ƒëi·ªÅu ch·ªânh t·∫ßn su·∫•t l·ªói trang, g·ªçi l√† Page-Fault ____.", a: "frequency", hint: "Vi·∫øt t·∫Øt l√† PFF." },
        { q: "Trong PFF, n·∫øu t·ª∑ l·ªá l·ªói trang v∆∞·ª£t qu√° m·ª©c gi·ªõi h·∫°n tr√™n (upper bound), OS s·∫Ω c·∫•p th√™m ____ cho ti·∫øn tr√¨nh.", a: "frame", hint: "Khung trang." },
        { q: "H√†m h·ªá th·ªëng trong Unix/Linux t·∫°o ra ti·∫øn tr√¨nh con s·ª≠ d·ª•ng k·ªπ thu·∫≠t Copy-on-Write th∆∞·ªùng l√† ______().", a: "fork", hint: "L·ªánh t·∫°o ti·∫øn tr√¨nh." }

      ];

            let quizData = [];
            let currentIdx = 0;
            let currentScore = 0;

            function celebrate() {
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#2563eb', '#10b981', '#ffbb33']
                });
            }

            function startQuiz() {
                // Randomize questions
                quizData = [...masterData].sort(() => Math.random() - 0.5);
                currentIdx = 0;
                currentScore = 0;
                document.getElementById('score').innerText = ƒêi·ªÉm: 0;
                document.getElementById('start-menu').style.display = 'none';
                document.getElementById('quiz-content').style.display = 'block';
                loadQuestion();
            }

            function loadQuestion() {
                const data = quizData[currentIdx];
                document.getElementById('q-text').innerHTML = data.q.replace("____", "<span class='blank-space'>...</span>");
                document.getElementById('user-input').value = "";
                document.getElementById('user-input').disabled = false;
                document.getElementById('feedback').style.display = 'none';
                document.getElementById('btn-next').style.display = 'none';
                document.getElementById('action-buttons').style.display = 'flex';
                document.getElementById('q-number').innerText = C√¢u h·ªèi ${currentIdx + 1}/${quizData.length};
                document.getElementById('p-fill').style.width = ${((currentIdx + 1) / quizData.length) * 100}%;
                setTimeout(() => document.getElementById('user-input').focus(), 10);
            }

            function checkAnswer() {
                const userValue = document.getElementById('user-input').value.trim().toLowerCase();
                const correctAnswer = quizData[currentIdx].a.toLowerCase();
                const feedback = document.getElementById('feedback');

                if (userValue === "") return;

                if (userValue === correctAnswer) {
                    feedback.innerText = "Ch√≠nh x√°c! üéâ";
                    feedback.className = "feedback correct";
                    currentScore += 5;
                    document.getElementById('score').innerText = ƒêi·ªÉm: ${currentScore};
                    celebrate(); // Hi·ªáu ·ª©ng ph√°o hoa
                    showNextState();
                } else {
                    feedback.innerText = "Sai r·ªìi! G·ª£i √Ω: " + quizData[currentIdx].hint;
                    feedback.className = "feedback wrong";
                }
                feedback.style.display = 'block';
            }

            function skipQuestion() {
                const feedback = document.getElementById('feedback');
                feedback.innerText = "ƒê√£ b·ªè qua. ƒê√°p √°n ƒë√∫ng l√†: " + quizData[currentIdx].a.toUpperCase();
                feedback.className = "feedback";
                feedback.style.background = "#f1f5f9";
                feedback.style.color = "#475569";
                feedback.style.display = 'block';
                showNextState();
            }

            function showNextState() {
                document.getElementById('user-input').disabled = true;
                document.getElementById('action-buttons').style.display = 'none';
                document.getElementById('btn-next').style.display = 'block';
                document.getElementById('btn-next').focus();
            }

            function nextQuestion() {
                currentIdx++;
                if (currentIdx < quizData.length) {
                    loadQuestion();
                } else {
                    showResult();
                }
            }

            function showResult() {
                const content = document.getElementById('quiz-content');
                content.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <h2 style="font-size: 2rem; color: #0f172a;">K·∫æT TH√öC!</h2>
                        <div style="font-size: 3rem; font-weight: 800; color: var(--primary); margin: 20px 0;">${currentScore}/100</div>
                        <p style="color: #64748b; margin-bottom: 25px;">Tuy·ªát v·ªùi! B·∫°n ƒë√£ ho√†n th√†nh b·ªô c√¢u h·ªèi.</p>
                        <button class="btn-main" onclick="location.reload()">L√ÄM L·∫†I (TR·ªòN C√ÇU H·ªéI)</button>
                    </div>
                `;
                // Ph√°o hoa l·ªõn khi k·∫øt th√∫c
                var duration = 3 * 1000;
                var end = Date.now() + duration;
                (function frame() {
                    confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0 } });
                    confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1 } });
                    if (Date.now() < end) { requestAnimationFrame(frame); }
                }());
            }

            document.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    const isCheckVisible = document.getElementById('action-buttons').style.display !== 'none';
                    const isStartVisible = document.getElementById('start-menu').style.display !== 'none';
                    if (isStartVisible) startQuiz();
                    else if (isCheckVisible) checkAnswer();
                    else nextQuestion();
                }
            });
    </script>
  </body>
</html>
cdn.jsdelivr.net
